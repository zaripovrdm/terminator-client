<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	
	<entry key="query.client.get">
		SELECT LASTMODIFIED FROM RMCP.CLIENT WHERE CNUM = :CNUM
	</entry>
	
	<entry key="query.client.merge">
		MERGE INTO RMCP.CLIENT c 
		USING ( VALUES (
			:CNUM
		)) AS t (
			CNUM
		) 
		ON c.CNUM = t.CNUM
		WHEN MATCHED THEN UPDATE SET
			BRANCH_ID = :BRANCH_ID,
			EMPLOYER_ID = :EMPLOYER_ID,
			CATEGORY_ID = :CATEGORY_ID,
			FIRST_NAME = :FIRST_NAME,
			PATRONYMIC = :PATRONYMIC,
			LAST_NAME = :LAST_NAME,
			TRANSLIT_NAME = :TRANSLIT_NAME,
			BIRTH_DATE = :BIRTH_DATE,
			LEGAL_ADDRESS = :LEGAL_ADDRESS,
			INN = :INN,
			EMAIL = :EMAIL,
			MOBILE_PHONE = :MOBILE_PHONE,
			PASSPORT_NUMBER = :PASSPORT_NUMBER,
			PASSPORT_ISSUER = :PASSPORT_ISSUER,
			PASSPORT_DATE = :PASSPORT_DATE,
			RESIDENT = :RESIDENT,
			COMPLIANCE = :COMPLIANCE,
			PEP_TYPE_ID = :PEP_TYPE_ID,
			LASTMODIFIED = :LASTMODIFIED
		WHEN NOT MATCHED THEN INSERT (
			CNUM,
			BRANCH_ID,
			EMPLOYER_ID,
			CATEGORY_ID,
			FIRST_NAME,
			PATRONYMIC,
			LAST_NAME,
			TRANSLIT_NAME,
			BIRTH_DATE,
			LEGAL_ADDRESS,
			INN,
			EMAIL,
			MOBILE_PHONE,
			PASSPORT_NUMBER,
			PASSPORT_ISSUER,
			PASSPORT_DATE,
			RESIDENT,
			COMPLIANCE,
			PEP_TYPE_ID,
			LASTMODIFIED
		) VALUES (
			:CNUM,
			:BRANCH_ID,
			:EMPLOYER_ID,
			:CATEGORY_ID,
			:FIRST_NAME,
			:PATRONYMIC,
			:LAST_NAME,
			:TRANSLIT_NAME,
			:BIRTH_DATE,
			:LEGAL_ADDRESS,
			:INN,
			:EMAIL,
			:MOBILE_PHONE,
			:PASSPORT_NUMBER,
			:PASSPORT_ISSUER,
			:PASSPORT_DATE,
			:RESIDENT,
			:COMPLIANCE,
			:PEP_TYPE_ID,
			:LASTMODIFIED
		)	
	</entry>
	
	<entry key="query.client.bundle.update">
		UPDATE RMCP.CLIENT SET BUNDLE_TYPE_ID = :BUNDLE_TYPE_ID WHERE CNUM = :CNUM
	</entry>
	
</properties>
